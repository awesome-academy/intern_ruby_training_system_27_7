<% provide :title, t(".heading") %>

<section class="content-header">
  <h1><%= t ".heading" %></h1>
</section>

<section class="content">
  <div class="card-body p-0">
    <div class="report-search">
      <h3><i class="fa fa-filter"></i><%= t ".search" %></h3>
      <%= form_tag user_reports_path, method: :get do %>
        <div class="form-group">
          <%= label :date, t(".date") %>
          <%= date_field_tag :date, params[:date],
            class: "form-control datetimepicker-input" %>
        </div>
        <div class="form-group">
          <%= label :course_id, t(".course") %>
          <%= select_tag :course_id,
            options_for_select(@courses.pluck(:name, :id), params[:course_id]),
            include_blank: true, required: false, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= label :content, t(".content") %>
          <%= text_field_tag :content, params[:content], class: "form-control" %>
        </div>
        <div class="button">
          <%= button_tag type: "submit", class: "btn btn-success" do %>
            <i class="fa fa-check"></i><%= t ".apply" %>
          <% end %>
          <%= link_to user_reports_path, class: "btn btn-danger" do %>
            <%= t ".reset" %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
  <% if @user_reports.present? %>
    <div class="card-body p-0">
      <h2 class="text-center">
        <%= t ".result", size: @user_reports.total_count %>
      </h2>
      <table class="table table-striped projects">
        <thead>
          <tr>
            <th class="course-table-name"><%= t ".date" %></th>
            <th class="course-table-start_time"><%= t ".course" %></th>
            <th class="course-table-status"><%= t ".content" %></th>
            <th class="course-table-btnt"></th>
          </tr>
          <tbody>
            <%= render @user_reports %>
          </tbody>
        <thead>
      </table>
    </div>
    <%= paginate @user_reports %>
  <% else %>
    <section class="not-found-report mt-2">
      <h3 class="text-center"><%= t(".no_result") %></h3>
    </section>
  <% end %>
</section>
